- content_for :js do
	%link{:href => "/assets/codemirror/lib/codemirror.css", :media => "all", :rel => "stylesheet"}	
	= generate_js
	%link{:href => "/assets/codemirror/theme/monokai.css", :media => "all", :rel => "stylesheet"}
	%link{:href => "/assets/codemirror/addon/display/fullscreen.css", :media => "all", :rel => "stylesheet"}
	%script{:src => "/assets/codemirror/lib/codemirror.js"}
	%script{:src => "/assets/codemirror/mode/clike/clike.js"}
	%script{:src => "/assets/codemirror/keymap/#{current_keymap}.js"}
	%script{:src => "/assets/codemirror/addon/display/fullscreen.js"}
	%script{:src => "/assets/codemirror/addon/edit/matchbrackets.js"}
	%script{:src => "/assets/codemirror/addon/selection/active-line.js"}
= form_for(@code, url: judge_problem_path, class: "form-horizontal") do |f|
	= f.hidden_field :student_id, value: current_user.student_id
	= f.hidden_field :problem_id, value:  @problem.problem_id
	.form-group
		= f.label :language, "语言"
		= f.select(:language, options_for_select(%w(C C++ Ruby Python PHP Java Go Javascript), current_mode.capitalize), class: "form-control")
	.form-group
		= f.text_area(:code, id:"code", class: "form-control")
	.form-group
		= f.submit value:"提交", class:"btn btn-block btn-primary"
= javascript_include_tag 'editor'